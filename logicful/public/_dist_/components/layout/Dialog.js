import{SvelteComponent as X,append as m,attr as p,bubble as Y,check_outros as L,create_component as q,create_slot as Z,destroy_component as z,destroy_each as x,detach as v,element as g,empty as I,group_outros as S,init as ee,insert as C,listen as U,mount_component as G,run_all as te,safe_not_equal as ne,set_data as P,set_style as le,space as N,stop_propagation as oe,text as B,transition_in as d,transition_out as k,update_slot as ie}from"../../../web_modules/svelte/internal.js";import{afterUpdate as se,onMount as ce}from"../../../web_modules/svelte.js";import"../../event/EventBus.js";import"../../event/FieldEvent.js";import"../../util/Generate.js";import"../../../web_modules/svelte/transition.js";import R from"../Button.js";function J(s,t,e){const o=s.slice();return o[18]=t[e],o[20]=e,o}function K(s){let t,e,o,l,n,c,r,i,f,u,y,w,$,D,E,j,H,O,T,F,a;const A=s[10].default,h=Z(A,s,s[15],null);let _=s[1].length>0&&Q(s);return{c(){t=g("div"),e=g("div"),o=g("div"),o.innerHTML='<div class="absolute inset-0 bg-gray-500 opacity-75"></div>',l=N(),n=g("span"),c=B(`â€‹
    
      `),r=g("div"),i=g("div"),f=g("button"),f.innerHTML='<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',u=N(),y=g("div"),w=g("div"),$=g("h3"),D=B(s[2]),E=N(),j=g("div"),h&&h.c(),H=N(),O=g("div"),_&&_.c(),p(o,"class","fixed inset-0 transition-opacity"),p(n,"class","hidden sm:inline-block sm:align-middle sm:h-screen"),p(f,"type","button"),p(f,"class",`text-gray-400 hover:text-gray-500 focus:outline-none
              focus:text-gray-500 transition ease-in-out duration-150`),p(f,"aria-label","Close"),p(i,"class","hidden sm:block absolute top-0 right-0 pt-4 pr-4"),p($,"class","text-lg leading-6 font-medium text-gray-900"),p($,"id","modal-headline"),p(j,"class","mt-3"),p(w,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"),p(y,"class","sm:flex sm:items-start"),p(O,"class","mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"),p(r,"class",`inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4
          text-left overflow-hidden shadow-xl transform transition-all sm:my-8
          sm:align-middle w-auto sm:p-6`),p(r,"role","dialog"),p(r,"aria-modal","true"),p(r,"aria-labelledby","modal-headline"),p(e,"class",`flex items-end justify-center min-h-screen pt-4 px-4 pb-20
        text-center sm:block sm:p-0`),p(t,"class","fixed z-10 inset-0 overflow-y-auto")},m(b,M){C(b,t,M),m(t,e),m(e,o),m(e,l),m(e,n),m(e,c),m(e,r),m(r,i),m(i,f),m(r,u),m(r,y),m(y,w),m(w,$),m($,D),m(w,E),m(w,j),h&&h.m(j,null),m(r,H),m(r,O),_&&_.m(O,null),T=!0,F||(a=[U(f,"click",s[6]),U(r,"click",oe(s[11]))],F=!0)},p(b,M){(!T||M&4)&&P(D,b[2]),h&&(h.p&&M&32768&&ie(h,A,b,b[15],M,null,null)),b[1].length>0?_?(_.p(b,M),M&2&&d(_,1)):(_=Q(b),_.c(),d(_,1),_.m(O,null)):_&&(S(),k(_,1,1,()=>{_=null}),L())},i(b){if(T)return;d(h,b),d(_),T=!0},o(b){k(h,b),k(_),T=!1},d(b){b&&v(t),h&&h.d(b),_&&_.d(),F=!1,te(a)}}}function Q(s){let t,e,o,l=s[1],n=[];for(let i=0;i<l.length;i+=1)n[i]=V(J(s,l,i));const c=i=>k(n[i],1,1,()=>{n[i]=null});let r=s[5]&&W(s);return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=N(),r&&r.c(),e=I()},m(i,f){for(let u=0;u<n.length;u+=1)n[u].m(i,f);C(i,t,f),r&&r.m(i,f),C(i,e,f),o=!0},p(i,f){if(f&154){l=i[1];let u;for(u=0;u<l.length;u+=1){const y=J(i,l,u);n[u]?(n[u].p(y,f),d(n[u],1)):(n[u]=V(y),n[u].c(),d(n[u],1),n[u].m(t.parentNode,t))}for(S(),u=l.length;u<n.length;u+=1)c(u);L()}i[5]?r?r.p(i,f):(r=W(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i(i){if(o)return;for(let f=0;f<l.length;f+=1)d(n[f]);o=!0},o(i){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);o=!1},d(i){x(n,i),i&&v(t),r&&r.d(i),i&&v(e)}}}function re(s){let t,e;function o(...l){return s[14](s[18],s[20],...l)}return t=new R({props:{type:s[18].type,onClick:o,$$slots:{default:[ae]},$$scope:{ctx:s}}}),{c(){q(t.$$.fragment)},m(l,n){G(t,l,n),e=!0},p(l,n){s=l;const c={};n&2&&(c.type=s[18].type),n&2&&(c.onClick=o),n&32770&&(c.$$scope={dirty:n,ctx:s}),t.$set(c)},i(l){if(e)return;d(t.$$.fragment,l),e=!0},o(l){k(t.$$.fragment,l),e=!1},d(l){z(t,l)}}}function fe(s){let t,e;function o(...l){return s[13](s[18],s[20],...l)}return t=new R({props:{type:s[18].type,focus:!0,onClick:o,$$slots:{default:[me]},$$scope:{ctx:s}}}),{c(){q(t.$$.fragment)},m(l,n){G(t,l,n),e=!0},p(l,n){s=l;const c={};n&2&&(c.type=s[18].type),n&2&&(c.onClick=o),n&32770&&(c.$$scope={dirty:n,ctx:s}),t.$set(c)},i(l){if(e)return;d(t.$$.fragment,l),e=!0},o(l){k(t.$$.fragment,l),e=!1},d(l){z(t,l)}}}function ue(s){let t,e,o,l;const n=[_e,pe],c=[];function r(i,f){return i[4]?0:1}return t=r(s,-1),e=c[t]=n[t](s),{c(){e.c(),o=I()},m(i,f){c[t].m(i,f),C(i,o,f),l=!0},p(i,f){let u=t;t=r(i,f),t===u?c[t].p(i,f):(S(),k(c[u],1,1,()=>{c[u]=null}),L(),e=c[t],e||(e=c[t]=n[t](i),e.c()),d(e,1),e.m(o.parentNode,o))},i(i){if(l)return;d(e),l=!0},o(i){k(e),l=!1},d(i){c[t].d(i),i&&v(o)}}}function ae(s){let t=s[18].label+"",e;return{c(){e=B(t)},m(o,l){C(o,e,l)},p(o,l){l&2&&t!==(t=o[18].label+"")&&P(e,t)},d(o){o&&v(e)}}}function me(s){let t=s[18].label+"",e;return{c(){e=B(t)},m(o,l){C(o,e,l)},p(o,l){l&2&&t!==(t=o[18].label+"")&&P(e,t)},d(o){o&&v(e)}}}function pe(s){let t,e;return t=new R({props:{type:s[18].type,disabled:!0,$$slots:{default:[de]},$$scope:{ctx:s}}}),{c(){q(t.$$.fragment)},m(o,l){G(t,o,l),e=!0},p(o,l){const n={};l&2&&(n.type=o[18].type),l&32768&&(n.$$scope={dirty:l,ctx:o}),t.$set(n)},i(o){if(e)return;d(t.$$.fragment,o),e=!0},o(o){k(t.$$.fragment,o),e=!1},d(o){z(t,o)}}}function _e(s){let t,e;function o(...l){return s[12](s[18],s[20],...l)}return t=new R({props:{type:s[18].type,onClick:o,$$slots:{default:[be]},$$scope:{ctx:s}}}),{c(){q(t.$$.fragment)},m(l,n){G(t,l,n),e=!0},p(l,n){s=l;const c={};n&2&&(c.type=s[18].type),n&2&&(c.onClick=o),n&32768&&(c.$$scope={dirty:n,ctx:s}),t.$set(c)},i(l){if(e)return;d(t.$$.fragment,l),e=!0},o(l){k(t.$$.fragment,l),e=!1},d(l){z(t,l)}}}function de(s){let t;return{c(){t=B("Processing...")},m(e,o){C(e,t,o)},d(e){e&&v(t)}}}function be(s){let t;return{c(){t=B("Failed To Run, Click To Try Again")},m(e,o){C(e,t,o)},d(e){e&&v(t)}}}function V(s){let t,e,o,l;const n=[ue,fe,re],c=[];function r(i,f){return i[3]===i[20]?0:i[18].focus?1:2}return e=r(s,-1),o=c[e]=n[e](s),{c(){t=g("span"),o.c(),p(t,"class","flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto")},m(i,f){C(i,t,f),c[e].m(t,null),l=!0},p(i,f){let u=e;e=r(i,f),e===u?c[e].p(i,f):(S(),k(c[u],1,1,()=>{c[u]=null}),L(),o=c[e],o||(o=c[e]=n[e](i),o.c()),d(o,1),o.m(t,null))},i(i){if(l)return;d(o),l=!0},o(i){k(o),l=!1},d(i){i&&v(t),c[e].d()}}}function W(s){let t,e,o,l;return{c(){t=g("p"),e=B("Error: "),o=g("strong"),l=B(s[5]),le(t,"color","#c52433")},m(n,c){C(n,t,c),m(t,e),m(t,o),m(o,l)},p(n,c){c&32&&P(l,n[5])},d(n){n&&v(t)}}}function ge(s){let t,e,o,l,n=s[0]&&K(s);return{c(){n&&n.c(),t=N()},m(c,r){n&&n.m(c,r),C(c,t,r),e=!0,o||(l=U(document.body,"click",s[6]),o=!0)},p(c,[r]){c[0]?n?(n.p(c,r),r&1&&d(n,1)):(n=K(c),n.c(),d(n,1),n.m(t.parentNode,t)):n&&(S(),k(n,1,1,()=>{n=null}),L())},i(c){if(e)return;d(n),e=!0},o(c){k(n),e=!1},d(c){n&&n.d(c),c&&v(t),o=!1,l()}}}function ke(s,t,e){let{$$slots:o={},$$scope:l}=t,{title:n=""}=t,{isOpen:c=!1}=t,{onClose:r=()=>{}}=t,{actions:i=[]}=t,{getActions:f=void 0}=t,u=!1,y=-1,w=!1,$="";ce(()=>(e(1,i=f?.()??i),setTimeout(()=>{u=!0},500),()=>{e(0,c=!1)})),se(()=>{e(1,i=f?.()??i)});function D(){e(0,c=!0)}async function E(){if(!c||!u)return;e(0,c=!1),u=!1,await r?.()}async function j(a,A){try{e(4,w=!1),e(5,$=""),e(3,y=A),a&&a.onClick&&await a.onClick(),e(3,y=-1),(a.onClose==null||a.onClose)&&E()}catch(h){console.error(h),e(5,$=h.message),e(4,w=!0)}}function H(a){Y(s,a)}const O=(a,A)=>j(a,A),T=(a,A)=>j(a,A),F=(a,A)=>j(a,A);return s.$$set=a=>{"title"in a&&e(2,n=a.title),"isOpen"in a&&e(0,c=a.isOpen),"onClose"in a&&e(8,r=a.onClose),"actions"in a&&e(1,i=a.actions),"getActions"in a&&e(9,f=a.getActions),"$$scope"in a&&e(15,l=a.$$scope)},[c,i,n,y,w,$,E,j,r,f,o,H,O,T,F,l]}class he extends X{constructor(s){super();ee(this,s,ke,ge,ne,{title:2,isOpen:0,onClose:8,actions:1,getActions:9})}}export default he;
