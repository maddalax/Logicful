import{SvelteComponent as p,append as h,attr as u,create_component as _,destroy_component as v,detach as w,element as m,init as S,insert as j,listen as V,mount_component as C,safe_not_equal as x,space as L,stop_propagation as q,toggle_class as c,transition_in as E,transition_out as F}from"../../web_modules/svelte/internal.js";import{onMount as k}from"../../web_modules/svelte.js";import b from"../store/FormStore.js";import{subscribeFieldChange as M}from"../event/FieldEvent.js";import O from"./Label.js";function T(s){let r,e,i,n,l,a,d,o;return l=new O({props:{field:s[0],showOptional:!1}}),{c(){r=m("div"),e=m("span"),i=m("span"),n=L(),_(l.$$.fragment),u(i,"aria-hidden","true"),u(i,"class",`inline-block h-5 w-5 rounded-full bg-white shadow transform
        transition ease-in-out duration-200`),c(i,"translate-x-0",s[1]),c(i,"translate-x-5",s[1]),u(e,"role","checkbox"),u(e,"tabindex","0"),u(e,"aria-checked","false"),u(e,"class",`relative inline-flex flex-shrink-0 h-6 w-11 border-2
      border-transparent rounded-full cursor-pointer transition-colors
      ease-in-out duration-200 focus:outline-none focus:shadow-outline mr-2`),c(e,"bg-gray-200",!s[1]),c(e,"bg-indigo-600",s[1]),u(r,"class","flex items-center")},m(t,f){j(t,r,f),h(r,e),h(e,i),h(r,n),C(l,r,null),a=!0,d||(o=V(e,"click",q(s[4])),d=!0)},p(t,[f]){f&2&&c(i,"translate-x-0",t[1]),f&2&&c(i,"translate-x-5",t[1]),f&2&&c(e,"bg-gray-200",!t[1]),f&2&&c(e,"bg-indigo-600",t[1]);const g={};f&1&&(g.field=t[0]),l.$set(g)},i(t){if(a)return;E(l.$$.fragment,t),a=!0},o(t){F(l.$$.fragment,t),a=!1},d(t){t&&w(r),v(l),d=!1,o()}}}let I=!1;function U(s,r,e){let{config:i}=r,{field:n}=r,l=!1,{value:a=void 0}=r;M(k,(o,t)=>{o.id===n.id&&(t.field==="defaultValue"?e(2,a=o.defaultValue):e(2,a=o.value),e(1,l=a??!1))}),k(()=>{e(2,a=b.getValue(n.configTarget??n.id)),e(1,l=a??!1)});const d=()=>{e(1,l=!l),e(0,n.value=l,n),b.set(n,{fromUser:!0,value:n.value,field:"value"}),n.onChange?.(n.value)};return s.$$set=o=>{"config"in o&&e(3,i=o.config),"field"in o&&e(0,n=o.field),"value"in o&&e(2,a=o.value)},[n,l,a,i,d]}class y extends p{constructor(s){super();S(this,s,U,T,x,{config:3,field:0,value:2})}}export default y;
