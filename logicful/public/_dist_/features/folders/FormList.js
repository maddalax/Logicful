import{SvelteComponent as w,append as _,attr as b,check_outros as $,create_component as F,destroy_component as k,destroy_each as I,detach as p,element as g,empty as B,group_outros as M,init as N,insert as v,mount_component as L,safe_not_equal as S,space as d,transition_in as c,transition_out as a}from"../../../web_modules/svelte/internal.js";import"../../components/Link.js";import q from"./MoveFormManager.js";import{dispatch as y}from"../../event/EventBus.js";import E from"./FormListItem.js";function j(l,r,n){const s=l.slice();return s[5]=r[n],s}function C(l){let r,n,s;return n=new q({props:{onClose:l[3],forms:[l[1]]}}),{c(){r=g("div"),F(n.$$.fragment)},m(o,i){v(o,r,i),L(n,r,null),s=!0},p(o,i){const t={};i&2&&(t.forms=[o[1]]),n.$set(t)},i(o){if(s)return;c(n.$$.fragment,o),s=!0},o(o){a(n.$$.fragment,o),s=!1},d(o){o&&p(r),k(n)}}}function D(l){let r,n,s,o,i,t;function u(...e){return l[4](l[5],...e)}return n=new E({props:{form:l[5],onMove:l[2],onDelete:u}}),{c(){r=g("div"),F(n.$$.fragment),s=d(),o=g("div"),i=d(),b(o,"class","border-b border-gray-200 sm:px-6 pt-3"),b(r,"class","-mt-2 mb-4")},m(e,f){v(e,r,f),L(n,r,null),_(r,s),_(r,o),_(r,i),t=!0},p(e,f){l=e;const m={};f&1&&(m.form=l[5]),f&1&&(m.onDelete=u),n.$set(m)},i(e){if(t)return;c(n.$$.fragment,e),t=!0},o(e){a(n.$$.fragment,e),t=!1},d(e){e&&p(r),k(n)}}}function z(l){let r,n,s,o=l[1]&&C(l),i=l[0],t=[];for(let e=0;e<i.length;e+=1)t[e]=D(j(l,i,e));const u=e=>a(t[e],1,1,()=>{t[e]=null});return{c(){o&&o.c(),r=d();for(let e=0;e<t.length;e+=1)t[e].c();n=B()},m(e,f){o&&o.m(e,f),v(e,r,f);for(let m=0;m<t.length;m+=1)t[m].m(e,f);v(e,n,f),s=!0},p(e,[f]){if(e[1]?o?(o.p(e,f),f&2&&c(o,1)):(o=C(e),o.c(),c(o,1),o.m(r.parentNode,r)):o&&(M(),a(o,1,1,()=>{o=null}),$()),f&5){i=e[0];let m;for(m=0;m<i.length;m+=1){const h=j(e,i,m);t[m]?(t[m].p(h,f),c(t[m],1)):(t[m]=D(h),t[m].c(),c(t[m],1),t[m].m(n.parentNode,n))}for(M(),m=i.length;m<t.length;m+=1)u(m);$()}},i(e){if(s)return;c(o);for(let f=0;f<i.length;f+=1)c(t[f]);s=!0},o(e){a(o),t=t.filter(Boolean);for(let f=0;f<t.length;f+=1)a(t[f]);s=!1},d(e){o&&o.d(e),e&&p(r),I(t,e),e&&p(n)}}}function A(l){}function G(l,r,n){let{forms:s=[]}=r,o;function i(e){n(1,o=e)}function t(){y("forms_moved",o.id),n(1,o=void 0)}const u=e=>A(e.id);return l.$$set=e=>{"forms"in e&&n(0,s=e.forms)},[s,o,i,t,u]}class H extends w{constructor(l){super();N(this,l,G,z,S,{forms:0})}}export default H;
