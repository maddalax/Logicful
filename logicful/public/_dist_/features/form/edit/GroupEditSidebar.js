import{SvelteComponent as y,attr as k,check_outros as F,create_component as S,destroy_component as j,detach as d,element as m,empty as x,group_outros as G,init as I,insert as p,mount_component as T,noop as a,safe_not_equal as $,set_style as b,space as q,transition_in as g,transition_out as _}from"../../../../web_modules/svelte/internal.js";import w from"../../../store/FormStore.js";import{onMount as C}from"../../../../web_modules/svelte.js";import{randomString as v}from"../../../util/Generate.js";import"./Field.js";import N from"./ConfigField.js";function h(u){let t;return{c(){t=m("div"),k(t,"class","spinner")},m(r,i){p(r,t,i)},p:a,i:a,o:a,d(r){r&&d(t)}}}function E(u){let t,r,i,n,f;return n=new N({props:{field:{id:v(),required:!0,label:"Group Name",value:{type:"local",value:u[0].label},type:"string",configFieldTarget:`groups[${u[1]}].label`,configTarget:"form"}}}),{c(){t=m("div"),t.innerHTML=`<h5 style="padding-bottom: 0.2em;">Group Settings</h5> 
    <hr/>`,r=q(),i=m("div"),S(n.$$.fragment),b(t,"padding-left","0.5em"),b(i,"padding",".75em 0.6em")},m(e,l){p(e,t,l),p(e,r,l),p(e,i,l),T(n,i,null),f=!0},p(e,l){const o={};l&3&&(o.field={id:v(),required:!0,label:"Group Name",value:{type:"local",value:e[0].label},type:"string",configFieldTarget:`groups[${e[1]}].label`,configTarget:"form"}),n.$set(o)},i(e){if(f)return;g(n.$$.fragment,e),f=!0},o(e){_(n.$$.fragment,e),f=!1},d(e){e&&d(t),e&&d(r),e&&d(i),j(n)}}}function M(u){let t,r,i,n;const f=[E,h],e=[];function l(o,s){return o[0]?0:1}return t=l(u,-1),r=e[t]=f[t](u),{c(){r.c(),i=x()},m(o,s){e[t].m(o,s),p(o,i,s),n=!0},p(o,[s]){let c=t;t=l(o,s),t===c?e[t].p(o,s):(G(),_(e[c],1,1,()=>{e[c]=null}),F(),r=e[t],r||(r=e[t]=f[t](o),r.c()),g(r,1),r.m(i.parentNode,i))},i(o){if(n)return;g(r),n=!0},o(o){_(r),n=!1},d(o){e[t].d(o),o&&d(i)}}}function H(u,t,r){let{groupId:i}=t,n,f,e;return C(()=>{n=w.getForm();let l=n.groups??[];r(1,e=l.findIndex(o=>o.value===i)),r(0,f=l[e]),console.log("index",e)}),u.$$set=l=>{"groupId"in l&&r(2,i=l.groupId)},[f,e,i]}class L extends y{constructor(u){super();I(this,u,H,M,$,{groupId:2})}}export default L;
