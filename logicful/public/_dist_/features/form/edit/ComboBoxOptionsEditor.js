import{SvelteComponent as v,append as p,attr as u,create_component as _,destroy_component as S,detach as O,element as m,init as $,insert as y,listen as C,mount_component as h,safe_not_equal as j,space as T,transition_in as E,transition_out as F}from"../../../../web_modules/svelte/internal.js";import{dispatch as q}from"../../../event/EventBus.js";import w from"./OptionSetsList.js";import{randomString as c}from"../../../util/Generate.js";import{apiEndpoint as g}from"../../../services/ApiService.js";import B from"./ConfigField.js";function k(i){let e,o,l,n,r,s,f;return o=new B({props:{field:{id:c(),loadTransformer:b,required:!0,label:"Option Set",value:i[0].options,name:`${i[0].id}-builder-config-field-field_editor-options`,type:"combobox",options:{type:"remote",value:`${g()}option-set`},configFieldTarget:"options",configTarget:i[0].id}}}),{c(){e=m("div"),_(o.$$.fragment),l=T(),n=m("button"),n.textContent="Manage Option Sets",u(n,"class","manage-button btn btn-light"),u(n,"type","button")},m(t,a){y(t,e,a),h(o,e,null),p(e,l),p(e,n),r=!0,s||(f=C(n,"click",i[1]),s=!0)},p(t,[a]){const d={};a&1&&(d.field={id:c(),loadTransformer:b,required:!0,label:"Option Set",value:t[0].options,name:`${t[0].id}-builder-config-field-field_editor-options`,type:"combobox",options:{type:"remote",value:`${g()}option-set`},configFieldTarget:"options",configTarget:t[0].id}),o.$set(d)},i(t){if(r)return;E(o.$$.fragment,t),r=!0},o(t){F(o.$$.fragment,t),r=!1},d(t){t&&O(e),S(o),s=!1,f()}}}function b(i){return i.map(e=>({label:e.name,value:e.value}))}function x(i,e,o){let{field:l}=e;function n(){q("dialog_show",{child:w,closeOnOutsideClick:!1,confirmCloseOnDirty:!0,title:"Manage Option Sets",save:!1})}return i.$$set=r=>{"field"in r&&o(0,l=r.field)},[l,n]}class L extends v{constructor(i){super();$(this,i,x,k,j,{field:0})}}export default L;
