import{SvelteComponent as w,append as j,attr as _,check_outros as L,create_component as b,destroy_component as v,detach as d,element as F,empty as E,group_outros as S,init as T,insert as p,mount_component as $,noop as g,safe_not_equal as C,set_style as k,space as M,transition_in as c,transition_out as a}from"../../../../web_modules/svelte/internal.js";import"./Field.js";import{randomString as y}from"../../../util/Generate.js";import{onMount as P}from"../../../../web_modules/svelte.js";import{subscribeComponent as h}from"../../../event/EventBus.js";import q from"../../../store/FormStore.js";import B from"./FormEditSettings.js";import G from"./ConfigField.js";function H(l){let e;return{c(){e=F("div"),e.innerHTML='<span class="sr-only">Loading...</span>',_(e,"class","spinner-border"),k(e,"width","2rem"),k(e,"height","2rem"),_(e,"role","status")},m(t,i){p(t,e,i)},p:g,i:g,o:g,d(t){t&&d(e)}}}function N(l){let e,t,i,r,s;return t=new G({props:{field:{id:y(),type:"switch",label:"Enable Logic For Preview",value:{type:"local",value:l[0].enableLogic??!0},configFieldTarget:"enableLogic",configTarget:"form"}}}),r=new B({props:{form:l[0]}}),{c(){e=F("div"),b(t.$$.fragment),i=M(),b(r.$$.fragment)},m(o,m){p(o,e,m),$(t,e,null),j(e,i),$(r,e,null),s=!0},p(o,m){const n={};m&1&&(n.field={id:y(),type:"switch",label:"Enable Logic For Preview",value:{type:"local",value:o[0].enableLogic??!0},configFieldTarget:"enableLogic",configTarget:"form"}),t.$set(n);const f={};m&1&&(f.form=o[0]),r.$set(f)},i(o){if(s)return;c(t.$$.fragment,o),c(r.$$.fragment,o),s=!0},o(o){a(t.$$.fragment,o),a(r.$$.fragment,o),s=!1},d(o){o&&d(e),v(t),v(r)}}}function x(l){let e,t,i,r;const s=[N,H],o=[];function m(n,f){return n[0]?0:1}return e=m(l,-1),t=o[e]=s[e](l),{c(){t.c(),i=E()},m(n,f){o[e].m(n,f),p(n,i,f),r=!0},p(n,[f]){let u=e;e=m(n,f),e===u?o[e].p(n,f):(S(),a(o[u],1,1,()=>{o[u]=null}),L(),t=o[e],t||(t=o[e]=s[e](n),t.c()),c(t,1),t.m(i.parentNode,i))},i(n){if(r)return;c(t),r=!0},o(n){a(t),r=!1},d(n){o[e].d(n),n&&d(i)}}}function z(l,e,t){let i;return h("form_updated",r=>{t(0,i=r)}),h("form_loaded",r=>{t(0,i=r.form)}),P(()=>{const r=q.getForm();r.loaded&&t(0,i=r)}),[i]}class A extends w{constructor(l){super();T(this,l,z,x,C,{})}}export default A;
